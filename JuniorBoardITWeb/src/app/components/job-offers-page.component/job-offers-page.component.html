@if (JobOffers$ | async; as jobOffers) {
  <section class="body">
    <div class="row">
      <div class="col-lg-10 col-md-10 col-sm-9 col-xs-9">
        <h1 class="page-title">{{ translations.Get('TopMenu_Tasks') }}</h1>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-3 col-xs-3">
        <p-button [label]="translations.Get('General_Add')" (click)="AddJobOffer()" />
      </div>
    </div>

    <div class="row padding-top-15 filter-row">
      <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">{{ translations.Get('Tasks_Categories') }}:</div>
      <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" [formGroup]="formFilter">
        <p-select
          [options]="educationTypes"
          [showClear]="false"
          [filter]="true"
          filterBy="name"
          optionLabel="name"
          optionValue="id"
          placeholder="Wybierz status oferty"
          aria-describedby="offer-status"
          formControlName="education"
          (onChange)="ChangeEducationFilterValue($event)"
        />
      </div>
      <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12"></div>
      <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">Wybierz tylko ulubione oferty pracy</div>
      <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
        <p-checkbox [binary]="true" (onChange)="ChangeFavoriteFilterValue($event.checked)"> </p-checkbox>
      </div>
    </div>

    <div class="row margin-top-15 filter-row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <app-paginator [length]="count" (paginationData)="UpdatePaginationData($event)"></app-paginator>
      </div>
    </div>

    @if (jobOffers.length == 0) {
      <div class="row no-data-row">
        <p>{{ translations.Get('Task_NotFound') }}</p>
      </div>
    } @else if (jobOffers.length != 0) {
      <div class="row padding-top-15 padding-bottom-15">
        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
          {{ translations.Get('Tasks_Name') }}
        </div>
        <div class="col-lg-2 col-md-2 col-sm-3 col-xs-3">
          {{ translations.Get('Tasks_Date') }}
        </div>
        <div class="col-lg-2 col-md-2 col-sm-2 col-xs-3">
          {{ translations.Get('Tasks_Localization') }}
        </div>
        <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 hidden-xs">
          {{ translations.Get('Tasks_Budget') }}
        </div>
        <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 hidden-sm hidden-xs">
          {{ translations.Get('Tasks_Status') }}
        </div>
        <div class="col-lg-1 col-md-1 col-sm-2 col-xs-3"></div>
      </div>
      @for (jobOffer of jobOffers; track jobOffer.JOGID) {
        <pre>{{ jobOffer | json }}</pre>
        <p-button label="Zgłoś ofertę" (click)="ReportModalOpen(jobOffer.JOGID)"></p-button>
      }

      <p-dialog
        header="Zgłoś ofertę"
        [(visible)]="reportModalvisible"
        [modal]="true"
        [style]="{ width: '90vw' }"
        [closable]="true"
        [draggable]="false"
        [dismissableMask]="true"
        [formGroup]="reportForm"
        (onHide)="ReportModalClose()"
      >
        <p>Dlaczego chcesz zgłosić ofertę pracy?</p>
        <p-selectbutton
          [options]="reportReasons"
          formControlName="RReasons"
          optionLabel="name"
          optionValue="value"
          [multiple]="true"
        />
        <p>Wybrane z ReactiveForms {{ reportForm.controls.RReasons.value }}</p>

        <p>Podaj dodatkowe informacje do zgłoszenia (Opcjonalne).</p>
        <textarea
          formControlName="RText"
          maxlength="4000"
          placeholder="Dodatkowe informacje do zgłoszenia."
          class="report-textarea"
          pTextarea
        ></textarea>
        <div class="row">
          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 float-right">
            <p-button label="Cancel" severity="secondary" (click)="ReportModalClose()" />
            <p-button label="Save" (click)="ReportJobOffer()" />
          </div>
        </div>
      </p-dialog>
    }
  </section>
}
